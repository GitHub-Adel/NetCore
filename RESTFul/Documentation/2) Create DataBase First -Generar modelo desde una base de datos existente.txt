https://www.nuget.org/packages
----------------------------
1) tener instalado en SocialMedia.Api:
	Microsoft.EntityFrameworkCore.SqlServer
	Microsoft.EntityFrameworkCore.Design
	dotnet-ef
        AutoMapper.Extensions.Microsoft.DependencyInjection
	FluentValidation.AspNetCore
	Newtonsoft.Json

   tener instalado en SocialMedia.Core:
	Microsoft.EntityFrameworkCore
	Microsoft.EntityFrameworkCore.SqlServer	

   tener instalado en SocialMedia.Infrastructure:        
	AutoMapper.Extensions.Microsoft.DependencyInjection
	FluentValidation.AspNetCore



2) Asegurarse que el project compile sin error con: dotnet build

3) correr: dotnet ef dbcontext scaffold "CONNECTION_STRING" Microsoft.EntityFrameworkCore.SqlServer -context-dir CARPETA_DESTINO_CONTEXTO -o CARPETA_DESTINO_MODELOS

4) quitar OnConfiguring method from dbcontext.

5) crear connectionString in appsettings.json

6) inyectar IConfiguration in Startup.cs

7) configurar la conexion del dbcontext en startup.cs   


Nota:
-----------------------
https://docs.microsoft.com/es-es/ef/core/miscellaneous/cli/dotnet 

TO CONFIG CONNECTIONSTRING WITH SQL CREDENTIALS:
------------------------
dotnet ef dbcontext scaffold "Server=tcp:adelson-server.database.windows.net,1433;Initial Catalog=PruebaDB;Persist Security Info=False;User ID=adel809;Password=Amauris809;MultipleActiveResultSets=False;Encrypt=True;TrustServerCertificate=False;Connection Timeout=30;" Microsoft.EntityFrameworkCore.SqlServer -o ..\SocialMedia.Core\Entity  --context-dir ..\SocialMedia.Infrastructure\Data

TO CONFIG CONNECTIONSTRING WITH WINDOWS CREDENTIALS:
-----------------------
dotnet ef dbcontext scaffold "Server=C2VYW72\SQLEXPRESS;Initial Catalog=SocialmediaDB;integrated security=true;" Microsoft.EntityFrameworkCore.SqlServer -o ..\SocialMedia.Core\Entity  --context-dir ..\SocialMedia.Infrastructure\Data

agregar --no-onconfiguring al comando anterior, para que no agregue el metodo OnConfiguring en el context generado.
solo valido en la version 5.0.0 de ef core en adelante, mientras tanto quitarlo manualmente.

5) crear connectionString in appsettings.json
-------------------
{
  "SocialMediaConnection":"Server=C2VYW72\\SQLEXPRESS;Initial Catalog=SocialmediaDB;integrated security=true"
}


6) inyectar IConfiguration in Startup.cs
---------------------------
    public class Startup
    {
        private readonly IConfiguration configuration;
        public Startup(IConfiguration configuration)
        {
            this.configuration = configuration;
        }


7) configurar la conexion del dbcontext en startup.cs
------------------------------
services.AddDbContext<SocialmediaDBContext>(x => x.UseSqlServer(Configuration["SocialMediaConnection"]));
